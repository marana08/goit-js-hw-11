{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"53360876-f97dd2c70b0e27b498deb3edc\";\n\nexport async function getImagesByQuery(query){\n    const params = {\n        key: API_KEY,\n        q: query,\n        image_tÐ½pe: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    };\n\n    const response = await axios.get(BASE_URL, { params });\n    return response.data;\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryContainer = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nexport const lightbox = new SimpleLightbox(\".gallery a\", {\n    captionsData: \"alt\",\n    captionDelay: 250,\n});\n\nexport function createGallery(images){\n    const markup = images\n        .map(\n            (img) => `\n            <a class=\"gallery-item\" href=\"${img.largeImageURL}\">\n            <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" loading=\"lazy\" />\n            <div class=\"info\">\n                <p><b>Likes:</b> ${img.likes}</p>\n                <p><b>Views:</b> ${img.views}</p>\n                <p><b>Comments:</b> ${img.comments}</p>\n                <p><b>Downloads:</b> ${img.downloads}</p>\n            </div>\n            </a>`\n        )\n        .join(\"\");\n\n    galleryContainer.insertAdjacentHTML(\"beforeend\", markup);\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    galleryContainer.innerHTML = \"\";\n}\n\nexport function showLoader() {\n    loader.classList.remove(\"hidden\");\n}\n\nexport function hideLoader() {\n    loader.classList.add(\"hidden\");\n}\n","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery } from \"./js/pixabay-api\";\nimport {\n    createGallery,\n    clearGallery,\n    showLoader,\n    hideLoader,\n\n} from \"./js/render-functions\";\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector(\"input[name='search-text']\");\n\nform.addEventListener(\"submit\", async (event) => {\n    event.preventDefault();\n\n    const query = input.value.trim();\n\n    if (!query) {\n        iziToast.warning({\n            title: \"Warning\",\n            message: \"Please enter a search query!\",\n            timeout: 2000,\n        });\n        return;\n    }\n\n    clearGallery();\n    showLoader();\n\n    try {\n        const data = await getImagesByQuery(query);\n\n        if (!data.hits || data.hits.length === 0) {\n            iziToast.error({\n                title: \"No results\",\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n            });\n            return;\n        }\n        createGallery(data.hits);\n    } catch (error) {\n        iziToast.error({\n            title: \"Error\",\n            message: \"Something went wrong! Try again later.\",\n        });\n    } finally {\n        hideLoader();\n        form.reset();\n    }\n});\n"],"names":["BASE_URL","API_KEY","getImagesByQuery","query","params","axios","galleryContainer","loader","lightbox","SimpleLightbox","createGallery","images","markup","img","clearGallery","showLoader","hideLoader","form","input","event","iziToast","data"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAET,eAAeC,EAAiBC,EAAM,CACzC,MAAMC,EAAS,CACX,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,EAGI,OADiB,MAAME,EAAM,IAAIL,EAAU,CAAE,OAAAI,CAAM,CAAE,GACrC,IACpB,CCbA,MAAME,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAS,SAAS,cAAc,SAAS,EAElCC,EAAW,IAAIC,EAAe,aAAc,CACrD,aAAc,MACd,aAAc,GAClB,CAAC,EAEM,SAASC,EAAcC,EAAO,CACjC,MAAMC,EAASD,EACV,IACIE,GAAQ;AAAA,4CACuBA,EAAI,aAAa;AAAA,wBACrCA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA,mCAEvBA,EAAI,KAAK;AAAA,mCACTA,EAAI,KAAK;AAAA,sCACNA,EAAI,QAAQ;AAAA,uCACXA,EAAI,SAAS;AAAA;AAAA,iBAG3C,EACA,KAAK,EAAE,EAEZP,EAAiB,mBAAmB,YAAaM,CAAM,EACvDJ,EAAS,QAAO,CACpB,CAEO,SAASM,GAAe,CAC3BR,EAAiB,UAAY,EACjC,CAEO,SAASS,GAAa,CACzBR,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEO,SAASS,GAAa,CACzBT,EAAO,UAAU,IAAI,QAAQ,CACjC,CC5BA,MAAMU,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,2BAA2B,EAEhED,EAAK,iBAAiB,SAAU,MAAOE,GAAU,CAC7CA,EAAM,eAAc,EAEpB,MAAMhB,EAAQe,EAAM,MAAM,KAAI,EAE9B,GAAI,CAACf,EAAO,CACRiB,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,+BACT,QAAS,GACrB,CAAS,EACD,MACH,CAEDN,IACAC,IAEA,GAAI,CACA,MAAMM,EAAO,MAAMnB,EAAiBC,CAAK,EAEzC,GAAI,CAACkB,EAAK,MAAQA,EAAK,KAAK,SAAW,EAAG,CACtCD,EAAS,MAAM,CACX,MAAO,aACP,QAAS,0EACzB,CAAa,EACD,MACH,CACDV,EAAcW,EAAK,IAAI,CAC1B,MAAe,CACZD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,wCACrB,CAAS,CACT,QAAc,CACNJ,IACAC,EAAK,MAAK,CACb,CACL,CAAC"}